{
  "hash": "ca857dcf536831fd6a56f4ebac08a5cc",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Sample Analysis: Who's the most depressing shoegaze band?\"\nauthor: \"Yunyi Ru\"\ndate: \"2024-11-08\"\ncategories: [fun]\n---\n\n\n\n# Introduction\n\n## Why This Project\n\n![Shoegaze is a effect-heavy subgenre of indie rock.](pedalboard.jpg)\n\n## My Questions\n\n1.  Who is the most depressing shoegaze band?\n2.  Who is the most depressed lyricist?\n3.  Is shoegaze bands becoming happier/sadder over time?\n\n# Project\n\n## Data Acquisition & Wragling\n\n### Data Acquisition\n\nLyrics from all studio albums of the 'big three' bands in the shoegaze genre - **my bloody valentine, Ride, and slowdive** - are retrieved from [Genius.com](https://genius.com/) using a Python package named [lyricsgenius](https://www.johnwmillr.com/scraping-genius-lyrics/) based on Genius API. Please see the author's instructions for details.\n\nThe downloaded `.json` files were written into a `.csv` file for further processing.\n\n### Data Cleaning\n\nHere is a typical piece of lyrics retrieved directly from the website. It has some problems:\n\n> 16 ContributorsBallad of Sister Sue Lyrics Don√¢¬Ä¬ôt tell me I√¢¬Ä¬ôm lost if I don√¢¬Ä¬ôt seem too sure what to wear Don√¢¬Ä¬ôt tell me I√¢¬Ä¬ôm lost if I don√¢¬Ä¬ôt seem too sure what to wear There√¢¬Ä¬ôs a fire in my head and I√¢¬Ä¬ôm blinded by all I can√¢¬Ä¬ôt see There√¢¬Ä¬ôs a fire in my head and I√¢¬Ä¬ôm blinded by all I can√¢¬Ä¬ôt see Dancing to nowhere, I√¢¬Ä¬ôm losing my head among thieves Dancing to nowhere, I√¢¬Ä¬ôm losing my head among thieves And the man at the bar looked like all that he needed was gone And the man at the bar looked like all that he needed was gone Sister, I've lost all the feeling I'm lost and I'm sold I lay down beside you Sister, I'm blinded It's only my eyes I've sold them before The man said the drink in his hand would be all he required The man said the drink in his hand would be all he required And it seemed much the same when he pointed the gun at his head And it seemed much the same when he pointed the gun at his head Filled it with lead It made so much noise that I checked out of town, yeah Blood on my face and the words of a sage in my mind (It made so much noise that I checked out of town, yeah) See Slowdive LiveGet tickets as low as \\$55You might also like Sister, I've lost all the feeling I'm lost and I'm sold I lay down beside you Sister, I'm blinded It's only my eyes I've sold them before6Embed\n\n1.  '16 ContributorsBallad of Sister Sue Lyrics' at the beginning and '6Embed' at the end are not part of the lyrics.\n2.  '√¢¬Ä¬ô' - some problem with Unicode encoding/decoding.\n3.  'See Slowdive LiveGet tickets as low as \\$55' - ads is also not part of the lyrics.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary('stringi')\nlibrary('tidyverse')\nlibrary('tidytext')\nlibrary('lubridate')\n\n# import data\nlyrics <- read.csv(\"lyrics_data.csv\")\n\n# clean text\nlyrics_clean <- lyrics %>%\n  mutate(Lyrics = stri_enc_toutf8(Lyrics)) %>%\n  mutate(Lyrics = str_replace_all(Lyrics, 'â\\u0080\\u0099', \"'\")) %>%\n  mutate(Lyrics = Lyrics %>%\n           str_remove(\".*Lyrics\") %>%\n           str_remove(\"See.*tickets as low as \\\\$\\\\d+\") %>%\n           str_remove('You might also like') %>%\n           str_remove('\\\\d*\\\\s*Embed$') %>%\n           str_trim()) %>%\n  filter(!str_detect(Lyrics, \"^\\\\s*$\")) %>% # remove instrumental\n  mutate(Release.Date = dmy(Release.Date)) # set date using lubridate\n```\n:::\n\n\n\nIt now gives a clear output -\n\n> Don't tell me I'm lost if I don't seem too sure what to wear Don't tell me I'm lost if I don't seem too sure what to wear There's a fire in my head and I'm blinded by all I can't see There's a fire in my head and I'm blinded by all I can't see Dancing to nowhere, I'm losing my head among thieves Dancing to nowhere, I'm losing my head among thieves And the man at the bar looked like all that he needed was gone And the man at the bar looked like all that he needed was gone Sister, I've lost all the feeling I'm lost and I'm sold I lay down beside you Sister, I'm blinded It's only my eyes I've sold them before The man said the drink in his hand would be all he required The man said the drink in his hand would be all he required And it seemed much the same when he pointed the gun at his head And it seemed much the same when he pointed the gun at his head Filled it with lead It made so much noise that I checked out of town, yeah Blood on my face and the words of a sage in my mind (It made so much noise that I checked out of town, yeah) Sister, I've lost all the feeling I'm lost and I'm sold I lay down beside you Sister, I'm blinded It's only my eyes I've sold them before\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# text analysis\ntoken <- lyrics_clean %>%\n  unnest_tokens(output = Word, \n                input = Lyrics, \n                token = 'words')\n\n# stopwords dropped\ntoken_clean <- token %>%\n  anti_join(stop_words, by = c(\"Word\" = \"word\"))\n\n# make a word cloud\nlibrary('wordcloud')\ntoken_count <- token_clean %>%\n  group_by(Artist) %>%\n  count(Word, name = 'Word_count', sort = TRUE)\n\ntoken_count_head <- token_count %>%\n  group_by(Artist) %>%\n  slice(1:40) %>%\n  mutate(Word = fct_reorder(Word, Word_count, .desc = FALSE))\n\nlibrary(ggplot2)\nlibrary(ggwordcloud)\npalette <- c(\"my bloody valentine\" = \"#DC143C\",\n                   \"Ride\" = \"#1569C2\",\n                   \"Slowdive\" = \"#CCBA16\")\n\ntoken_count_head %>%\n  ggplot(aes(label = Word, size = Word_count, color = Artist)) + \n  geom_text_wordcloud(word.ratio = 0.2, # adjust for overall word size\n                      max_size = 30) +\n  facet_wrap(~Artist) +\n  scale_color_manual(values = palette)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n## 1. Who is the most depressing shoegaze band?\n\n\n\n::: {.cell}\n\n:::\n\n\n\n## 2. Who is the most depressed lyricist?\n\n\n\n::: {.cell}\n\n:::\n\n\n\n## 3. Is shoegaze bands becoming happier/sadder over time?\n\n\n\n::: {.cell}\n\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}